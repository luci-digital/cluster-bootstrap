# LuciVerse A-Tune Profile: FoundationDB
# Optimized for distributed ACID database operations
#
# Target: FoundationDB cluster nodes
# Workload: High-throughput transactional database
#
# Genesis Bond: ACTIVE
# Frequency: 432 Hz (CORE Infrastructure)
# Coherence: 0.90

[main]
include = database

[tip]
description = Optimized for FoundationDB distributed database running as the backbone of LuciVerse consciousness state storage. Prioritizes consistent write performance and durability.

[sysctl]
# Memory management for database workloads
vm.dirty_bytes = 536870912
vm.dirty_background_bytes = 268435456
vm.dirty_expire_centisecs = 500
vm.dirty_writeback_centisecs = 100
vm.swappiness = 1
vm.vfs_cache_pressure = 50
vm.overcommit_memory = 0
vm.overcommit_ratio = 80

# Scheduler for consistent latency
# kernel.sched_min_granularity_ns = 1000000
# kernel.sched_latency_ns = 10000000
# kernel.sched_migration_cost_ns = 500000

# NUMA for multi-socket systems
kernel.numa_balancing = 1

# Network for cluster communication
net.core.rmem_max = 16777216
net.core.wmem_max = 16777216
net.ipv4.tcp_rmem = 4096 1048576 16777216
net.ipv4.tcp_wmem = 4096 1048576 16777216
net.ipv4.tcp_no_metrics_save = 1
net.ipv4.tcp_moderate_rcvbuf = 1

# File descriptors
fs.file-max = 2097152
fs.aio-max-nr = 1048576

[systemctl]
irqbalance = start

[script]
# Disable THP for database
disable_thp_enabled = on
disable_thp_defrag = on
# Set I/O scheduler for NVMe
nvme_scheduler = on
